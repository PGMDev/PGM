<?xml version="1.0"?>
<map proto="1.3.0">
<name>Race for Victory</name>
<version>1.1.8</version>
<objective>Take the enemy's wool located to either side of the enemy's base and place it in your victory monument.</objective>
<authors>
    <author uuid="ef4ea031-998f-4ec9-b7b6-1bdd428bcef8">Plastix</author>
    <author uuid="3c7db14d-ac4b-4e35-b2c6-3b2237f382be">MonsieurApple</author>
    <author uuid="25961a08-c90c-4abd-b136-dad90e89c2eb">Anxuiz</author>
</authors>
<teams>
    <team color="blue" max="20">Blue Team</team>
    <team color="dark red" max="20">Red Team</team>
</teams>
<spawns>
    <spawn team="blue" yaw="180"><cuboid min="-1.5,68,108.5" max="1.5,68,110.5"/></spawn>
    <spawn team="red" yaw="0"><cuboid min="-1.5,68,-111.5" max="1.5,68,-108.5"/></spawn>
    <default yaw="90"><cylinder base="-80,70,0" radius="3" height="0"/></default>
</spawns>
<filters>
    <filter name="only-blue">
        <team>blue</team>
    </filter>
    <filter name="only-red">
        <team>red</team>
    </filter>
    <filter name="only-red-usage">
        <not>
            <all>
                <any>
                    <block>chest</block>
                    <block>workbench</block>
                </any>
                <team>blue</team>
            </all>
        </not>
    </filter>
    <filter name="only-blue-usage">
        <not>
            <all>
                <any>
                    <block>chest</block>
                    <block>workbench</block>
                </any>
                <team>red</team>
            </all>
        </not>
    </filter>
</filters>
<regions>
    <!-- blue wool room protection (these are the wools blue has to get) -->
    <union name="blue-wool-rooms">
        <rectangle name="purple-room" min="-25,-80" max="-oo,-oo"/>
        <rectangle name="yellow-room" min="25,-80" max="oo,-oo"/>
    </union>
    <apply block="only-blue" use="only-blue-usage">
        <region name="blue-wool-rooms"/>
    </apply>
    <apply enter="only-blue" message="You may not enter your own wool room!">
        <region name="blue-wool-rooms"/>
    </apply>
    <!-- red wool room protection (these are the wools red has to get) -->
    <union name="red-wool-rooms">
        <rectangle name="lime-room" min="25,80" max="oo,oo"/>
        <rectangle name="orange-room" min="-25,80" max="-oo,oo"/>
    </union>
    <apply block="only-red" use="only-red-usage">
        <region name="red-wool-rooms"/>
    </apply>
    <apply enter="only-red" message="You may not enter your own wool room!">
        <region name="red-wool-rooms"/>
    </apply>
    <!-- prevent teams from entering each other's spawns -->
    <rectangle name="red-base" min="-13,-oo" max="13,-97"/>
    <rectangle name="blue-base" min="-13,97" max="13,oo"/>
    <apply enter="only-red" message="You may not enter red's base!">
        <region name="red-base"/>
    </apply>
    <apply block="only-red">
        <region name="red-base"/>
    </apply>
    <apply enter="only-blue" message="You may not enter blue's base!">
        <region name="blue-base"/>
    </apply>
    <apply block="only-blue">
        <region name="blue-base"/>
    </apply>
    <!-- prevent void bridging -->
    <apply block="deny-all" message="You may not build in the void!">
        <complement>
            <union>
                <rectangle min="-13,-90" max="-oo,90"/>
                <rectangle min="13,-90" max="oo,90"/>
            </union>
            <rectangle min="-oo,15" max="oo,-15"/>
        </complement>
        <!-- behind red's wool rooms -->
        <rectangle min="42,-101" max="13,-112"/>
        <rectangle min="-42,-101" max="-13,-112"/>
        <!-- behind blue's wool rooms -->
        <rectangle min="13,111" max="42,101"/>
        <rectangle min="-13,111" max="-42,101"/>
    </apply>
    <apply block="deny-all">
        <negative>
            <rectangle min="-57,-123" max="57,123"/>
        </negative>
    </apply>
</regions>
<maxbuildheight>100</maxbuildheight>
<wools>
    <wool team="blue" color="purple">
        <block location="-1,75,97"/>
    </wool>
    <wool team="blue" color="yellow">
        <block location="0,75,97"/>
    </wool>
    <wool team="red" color="lime">
        <block location="0,75,-98"/>
    </wool>
    <wool team="red" color="orange">
        <block location="-1,75,-98"/>
    </wool>
</wools>
</map>
